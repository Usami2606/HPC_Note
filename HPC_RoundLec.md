# 1

- HPCS輪講を始めます。Arch4年の宇佐美です。よろしくお願いします。

# 2
- チャプター4では4.1節でイントロダクションとしてベンチマークの歴史を軽く紹介し、その後4.2節でHPCにおけるベンチマークの重要な点、4.3節でHPCコミュニティにおける標準的なベンチマーク、4.4節で高性能計算のLINPACKの説明を行います

# 3
- まず最初に導入で、ベンチマークの始まりと現在について軽く説明します。コンピュータの性能を評価するためのベンチマークの試みは汎用コンピュータの時代から行われており、これらのベンチマークの性質は一般にコンピュータが作られら目的を反映していました

- 例えば1946にできた汎用電子計算機であるENIACでは性能のベンチマークを人間が弾道軌道を計算するのにかかる時間と比較して砲弾の軌道計算の解決時間を図るものでした。

- 現在のスーパーコンピュタでは線形代数からグラフアプリケーションまで様々なベンチマークが使われていておこれは様々な目的が考えられる現在の性質を反映しています。

- このように最初は製造元が提示する理論上の性能見積もりと比較可能な実証的な性能指標を提供するものでした。

# 4

- 続きましてベンチマークの歴史を紹介します。汎用コンピュータの性能を評価するための最初のベンチマークは1972年に初めて公開されたWheststoneのベンチマークです。これはイングランドのレスターシャ州ウェットストーン村にちなんで名付けられたもので、同じ場所でWheststoneコンパイラが開発されました。

- 1980年には1秒あたりの浮動小数点演算数であるflopsを使うようにな広く利用されました。直列ベンチマークであり、スーパーコンピュータ用に特別に設計されたものではありませんが業界標準として広く受け入れられスーパーコンピュータで使用されるマイクロプロセッサの性能評価にも利用されました。

- 1984年には標準化された合成計算ワークロードであるDhrystoneが登場しました。これはWheststoneベンチマークの対になるもので浮動小数点ではなく整数性能を評価する点が特徴です。現在ではSPECintスイートにとって代わられています。

- そして現在もっとも広く使われているのが1979年にJack Dongrraが導入したLinPackベンチマークである。これはDongarra、Jim Bunch、Cleve Moler、Gilbert Stewartによって開発されたLinpack線形代数パッケージに基づいていてシステムの浮動小数点性能を評価する指標として用いられています

- それだけでなくこのLinpackベンチマークの成果は現在のHPL(High performance Linpack)ベンチマークやTop500の測定基準として継続しています。

# 5
- 続いてジャック・ドンガラとLinpackベンチマークについてです。ジャック・ドンカラは高性能計算に関する応用、アルゴリズム、ツールの分野で実践的な進歩をもたらしました研究者で40年以上にわたり、HPCの効果的で効率的、スケーラブルな利用に貢献してきました。彼は様々な重要な応用で中心的な役割を果たす線形代数の問題に着目しそのための手法やライブラリを改良してきました。

- これらの成果から発展したのがHPL(High Performance Linpack)ベンチマークです。これはLinpackの派生で過去25年間にわたって「Top500」リストの計測基準となってきた、最も認知度の高いベンチマークでHPC分野における進歩を測る基準になっています。

- そしてドンガラはHPCGベンチマークでも貢献していてこれは共役勾配法に基づいたベンチマークでHPCシステムの能力を探る際にHPLよりもより実用的な指標を提供している。

# 6

- Linpackベンチマークでは密な線型方程式系を解く作業不可(ワークロード)を用いました。Ax=b　ここで、b と x は長さ n のベクトルで、A は n × n 行列であり、ゼロでない要素が非常に多い（またはゼロ要素が非常に少ない）行列です。元のLinpackベンチマークでは、n = 100 の行列を対象とし、シリアル計算用に書かれていました。ソースコードの変更は許されず、コンパイラのフラグによって達成される最適化のみが許可されていました。

- 第2世代のベンチマークでは、n = 1000 の行列を使用し、ユーザーによる分解処理およびソルバー部分のコードの変更が可能になりました。また、最終的な解に対する精度境界（誤差の上限）も導入されました。第3世代のベンチマークである HPL（High Performance Linpack）は、問題サイズやソフトウェアの違いを許容し、分散メモリ型スーパーコンピュータ上で実行できるようになっています。このHPLベンチマークは、世界中のスーパーコンピュータのランク付けに頻繁に使用されている「Top500リスト」の生成に用いられています。4.3.1節では、HPLについてさらに詳しく解説します。

# 7

- 現在では、スーパーコンピュータやその構成要素の性能を評価するために、さまざまな汎用ベンチマークが使われています。これらのベンチマークは多くの場合、合成的なワークロードではなく、実際のアプリケーション分野に由来し、そのアプリケーションに特化した負荷を反映しています。表4.1では、HPCユーザー向けのベンチマークの概要と、それぞれのベンチマークが対象とする応用分野および特徴について説明しています。
もっとも広く使用されているベンチマークのいくつかは、複数の個別ベンチマークを含むスイート（パッケージ）として提供されており、その一例として以下のものがあります：
HPCチャレンジ・スイート（HPC Challenge suite）：HPLを含む7つの個別ベンチマークで構成。
NAS並列ベンチマーク（NAS Parallel Benchmarks, NPB）：19のベンチマーク仕様とリファレンス実装から構成。
これらのスイートについては、それぞれ 4.5節 および 4.7節 で詳しく説明されるのでここでは割愛します。

#8
- 続きまして4.2節に入ります。4.2節ではHPCベンチマークの主な特性ということで4.1節で紹介したベンチマークの性質を比べていきたいと思います。最初にベンチマークがどのように使われているかです。

- まず一つはある機関がスパコンを導入する際の規模や種類を決定するための参考です。このような場合様々なベンチマークが使用され候補となるスーパーコンピュータがその期間のニーズをどれだけ満たすかを評価します。

- それ以外にはスケールの大きなプロセッサ構成や大きなデータセットでの実際のユーザーアプリケーションの性能を見積るためにも使用されたり、特定のアルゴリズムに対する限界を明らかにするのにも役立ちます。

- あとは理論的なピーク性能の何%を達成できるかを定量化するための指標にもなります。

# 9

- 続いて良いベンチマークに共通する特性です。
- 読む

# 10

- この表ではHPCユーザー向けのベンチマークの概要とそれぞれのベンチマークが対象とする応用分野及び特性が載っています。

# 11

- 続きまして、ベンチマークの注目すべき点として多くのベンチマークのコードの長さが非常に短いということです。この表では表4.1でまとめられた非商用ベンチマークのソースコードの行数を示しています。多くのHPCユーザーアプリケーションは10万行を超えるコードを使用するのが一般的であるのに対しそれを評価するベンチマークは通常それよりもはるかに短いコードで構成されていることが分かります。

# 12

- 次に表4.2に挙げられているベンチマークの中で以下の4つのベンチマークに関連するスーパーコンピュータのランキングリストです。

# 13

# 14

- ここからはHPCコミュニティで使われているベンチマークをいくつか紹介します。まずこの中で最も重要なベンチマークであるHPLはこのあと4.4で詳しく取り上げます。
- このHPLを補完する形でHPCGベンチマークがあり、HPLが対応できないそ行列システムのアプリケーションに適していて、より多くの実用的アプリケーションを表現しています。
- 他にはNPB(NAS並列ベンチマーク)があります。これは元々アルゴリズム仕様の文書として始まりましたが、のちに実装されることで現在のベンチマークになったものです。このベンチマークスイートは計算流体力学(CFD)アプリケーションでよく見られるワークロードを代表しています。
- この節では解説しませんがこの章でGraph500ベンチマークとグラフとラバーサルワークロードが紹介されます。

